<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="踏雪,taxuexunshang@gmail.com"><title>深入理解计算机系统-计算机系统漫游 · 踏雪寻殇的博客</title><meta name="description" content="操作系统基本概念
计算机操作系统是由硬件与软件组成的.其存在目的主要是为了正确运行不同的程序.

信息是位+上下文使用常见的入门级C语言demo进行示范
1234567#include&amp;lt;stdio.h&amp;gt;//这应该是我为数不多能全文背诵的程序了int main()&amp;#123;	printf"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">踏雪寻殇的博客</a></h3><div class="description"><p>逝者如斯夫,不舍昼夜</p></div></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me" target="_blank" rel="noopener"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole" target="_blank" rel="noopener"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">Sobre</a></li><li><a href="/archives">Arquivo</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>深入理解计算机系统-计算机系统漫游</a></h3></div><div class="post-content"><h3 id="操作系统基本概念"><a href="#操作系统基本概念" class="headerlink" title="操作系统基本概念"></a>操作系统基本概念</h3><blockquote>
<p>计算机操作系统是由硬件与软件组成的.其存在目的主要是为了正确运行不同的程序.</p>
</blockquote>
<h4 id="信息是位-上下文"><a href="#信息是位-上下文" class="headerlink" title="信息是位+上下文"></a>信息是位+上下文</h4><p>使用常见的入门级C语言demo进行示范</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//这应该是我为数不多能全文背诵的程序了</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"hello,world\n"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述程序的生命周期是从源程序开始的,即<code>hello.c</code>文件,众所周知,数据在以二进制形式存储在计算机的外存中,而每<strong>8个</strong>二进制数又被成为一个<strong>字节</strong>,每个字节表示程序中的文本字符,大部分现代计算机使用ASCII码的方式来表示<strong>英文字符</strong>(原书翻译中仅解释为字符,不够准确)</p>
<p>在内存中存放的用户数据与网络上传的数据都是以二进制数字序列进行存储的,其含义由包含该序列的上下文决定,通俗的讲解上下文.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function</span><span class="params">(a <span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">    <span class="comment">//上下文</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    <span class="comment">//上下文</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">functionOne</span><span class="params">(a <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">    <span class="comment">//上下文</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    <span class="comment">//上下文</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//我们可以看到第3,8行代码完全一致,但因我们在函数的声明中,指定了不同的传入参数类型,最终导致,该相同的序列执行出不同的功能,而函数的声明及除该行代码的方法体就成为上下文</span></span><br></pre></td></tr></table></figure>

<h4 id="程序被其他程序翻译成不同的形式"><a href="#程序被其他程序翻译成不同的形式" class="headerlink" title="程序被其他程序翻译成不同的形式"></a>程序被其他程序翻译成不同的形式</h4><p>hello程序的每一行代码,都会先被转化成一系列的低级机器语言指令,接着会按照一种称为可执行目标程序的格式进行打包,并以二进制形式存储在磁盘上.</p>
<p>GCC的翻译过程通常有以下四个阶段:</p>
<ol>
<li>预处理阶段:对C中的预处理指令进行处理,将头文件的内容直接插入进程序文本中</li>
<li>编译阶段:将上步骤的产物,翻译为汇编语言.</li>
<li>汇编阶段:将汇编语言,编译为<strong>可重定位目标程序</strong>,将其翻译为机器语言.</li>
<li>链接阶段:与不属于该文件的函数文件进行链接.</li>
</ol>
<h4 id="操作系统执行可执行程序的步骤"><a href="#操作系统执行可执行程序的步骤" class="headerlink" title="操作系统执行可执行程序的步骤"></a>操作系统执行可执行程序的步骤</h4><p>操作系统会从磁盘中,将源程序读入内存,再送入处理器执行.对于现在操作系统来讲,应还存在调入高速缓存的环节.</p>
<h4 id="系统的硬件组成"><a href="#系统的硬件组成" class="headerlink" title="系统的硬件组成"></a>系统的硬件组成</h4><h5 id="1-总线"><a href="#1-总线" class="headerlink" title="1.总线"></a>1.总线</h5><p>总线又分为<strong>数据总线</strong>与<strong>地址总线</strong>,顾名思义,两种总线因其传递数据类型不同而被区分.总线负责携带信息字节在各个部件中进行传递.通常总线被设定为定长的字节块(8位)</p>
<h5 id="2-I-O设备"><a href="#2-I-O设备" class="headerlink" title="2.I/O设备"></a>2.I/O设备</h5><p>I/O设备是操作系统与外界进行沟通的设备.每个I/O设备都通过一个控制器或者适配器与总线相连.</p>
<h5 id="3-主存"><a href="#3-主存" class="headerlink" title="3.主存"></a>3.主存</h5><p>俗称内存,主存是一种临时存储设备,用于存放程序与程序执行中的数据.由一组DRAM<code>动态随机存取芯片</code>组成.</p>
<h5 id="4-处理器"><a href="#4-处理器" class="headerlink" title="4.处理器"></a>4.处理器</h5><p>通俗来说,就是一个指令执行模型.模型<strong>由指令集架构决定</strong>.</p>
<p>我们将<strong>指令集架构</strong>与<strong>处理器的微体系结构</strong>区分开来:</p>
<p>指令集架构:描述每条机器代码指令的效果.</p>
<p>微体系结构:描述处理器机器代码指令的详细实现.</p>
<h4 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h4><p>程序开销多在,数据在不同硬件之间的复制产生.根据机械原理,较大的存储设备要比较小的存储设备运行的慢.高速缓冲使用静态随机访问存储器实现.高速缓存主要利用了<strong>程序访问的局部性原理</strong>.高速缓存的应用使程序员能将程序的性能提高一个数量级.</p>
<h4 id="操作系统管理硬件"><a href="#操作系统管理硬件" class="headerlink" title="操作系统管理硬件"></a>操作系统管理硬件</h4><p>操作系统可看为是,在应用程序与硬件之间的一种软件.具有两个基本功能:</p>
<ol>
<li>防止硬件被失控的应用程序滥用.</li>
<li>提供一套简单的机制控制复杂而又不相同的低级硬件设备.</li>
</ol>
<h4 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h4><blockquote>
<p>进程是系统对一个正在运行的程序的一种抽象</p>
</blockquote>
<p>无论是单核还是多核的计算机中,一个CPU看似都在并发的执行多个程序.其实是通过处理器在进程间切换实现的.这种交错执行的机制,叫做上下文切换.</p>
<p><strong>在任何一个时刻,单处理器系统只能执行一个程序</strong></p>
<p>从一个进程切换到另一个进程的操作,是由操作系统内核管理的,内核是操作系统代码的常驻主存的部分.内核不是一个独立的进程.<strong>内核是系统管理进程所有代码与数据结构的集合</strong></p>
<h4 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h4><p>线程是比进程更小的单位,<strong>每个线程都运行在进程的上下文中</strong>,共享全局数据.</p>
<h4 id="虚拟内存"><a href="#虚拟内存" class="headerlink" title="虚拟内存"></a>虚拟内存</h4><p>虚拟内存提供了一个抽象的概念.即每个进程都在独占的使用主存.每个进程看到的地址空间都一样.称为虚拟地址空间.</p>
<p>内核虚拟内存,占据内存的顶端(高位地址区),不允许应用程序对这个部分的内存进行读写操作或直接调用内核代码定义的的函数.</p>
<p>基本思想是,将一个进程虚拟内存的内容放在磁盘上.主存充当CPU与外存间的高速缓存.</p>
<h4 id="并发与并行"><a href="#并发与并行" class="headerlink" title="并发与并行"></a>并发与并行</h4><h5 id="线程级并发"><a href="#线程级并发" class="headerlink" title="线程级并发"></a>线程级并发</h5><p>传统意义上,并发只是模拟出来的,是通过一台计算机在正在执行的进程中快速进行上下文切换实现的.当单操作系统内核控制多处理器时,我们就得到了<code>多处理器系统</code></p>
<h5 id="指令级并行"><a href="#指令级并行" class="headerlink" title="指令级并行"></a>指令级并行</h5><p>在较低的抽象层次上,现代处理器可以同时执行多条指令的属性被称为指令级并行.如果处理器可达到比一个周期执行一个指令更快的速率,就称之为超标量.大多数现代处理器都支持超标量操作.</p>
<h5 id="单指令-多数据并行"><a href="#单指令-多数据并行" class="headerlink" title="单指令,多数据并行"></a>单指令,多数据并行</h5><p>允许一条指令产生多个可以并发执行的操作,这种方法被成为单指令,多数据.<strong>即SIMD并行</strong>.是一种采用一个控制器来控制多个处理器，同时对一组数据（又称“数据向量”）中的每一个分别执行相同的操作从而<strong>实现空间上的并行性</strong>的技术.增加处理器的吞吐量</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-08-01</span><i class="fa fa-tag"></i><a class="tag" href="/tags/操作系统/" title="操作系统">操作系统 </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2020/08/01/深入理解计算机系统-计算机系统漫游/,踏雪寻殇的博客,深入理解计算机系统-计算机系统漫游,;" target="_blank" rel="noopener"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2020/08/02/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%8C%87%E5%8D%97/" title="Git常用命令指南">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/07/11/%E7%8A%B6%E6%80%81%E6%9C%BA%E4%B8%8E%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="状态机与动态规划">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>